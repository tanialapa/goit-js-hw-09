{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\n\nlet formData = {\n  email: '',\n  message: '',\n};\npopulateForm();\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', onFormSubmit);\n\n\nfunction onFormInput() {\n  formData = Object.fromEntries(new FormData(form));\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  // formData = Object.fromEntries(new FormData(form));\n  const email = formData.email.trim();\n  const message = formData.message.trim();\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n  formData = { email: '', message: '' };\n}\n\nfunction populateForm() {\n  const saved = localStorage.getItem(STORAGE_KEY);\n  if (!saved) return;\n    const data = JSON.parse(saved);\n    \n  if (data.email) form.elements.email.value = data.email;\n  if (data.message) form.elements.message.value = data.message;\n\n  formData.email = data.email ? data.email : '';\n  formData.message = data.message ? data.message : '';\n}\n"],"names":["STORAGE_KEY","form","formData","populateForm","onFormInput","onFormSubmit","event","email","message","saved","data"],"mappings":"wFACA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAGpD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACAC,EAAY,EAEZF,EAAK,iBAAiB,QAASG,CAAW,EAC1CH,EAAK,iBAAiB,SAAUI,CAAY,EAG5C,SAASD,GAAc,CACrBF,EAAW,OAAO,YAAY,IAAI,SAASD,CAAI,CAAC,EAChD,aAAa,QAAQD,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC5D,CAEA,SAASG,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQL,EAAS,MAAM,KAAI,EAC3BM,EAAUN,EAAS,QAAQ,KAAI,EAErC,GAAIK,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACF,CACA,QAAQ,IAAIN,CAAQ,EACpB,aAAa,WAAWF,CAAW,EACnCC,EAAK,MAAK,EACVC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAEA,SAASC,GAAe,CACtB,MAAMM,EAAQ,aAAa,QAAQT,CAAW,EAC9C,GAAI,CAACS,EAAO,OACV,MAAMC,EAAO,KAAK,MAAMD,CAAK,EAE3BC,EAAK,QAAOT,EAAK,SAAS,MAAM,MAAQS,EAAK,OAC7CA,EAAK,UAAST,EAAK,SAAS,QAAQ,MAAQS,EAAK,SAErDR,EAAS,MAAQQ,EAAK,MAAQA,EAAK,MAAQ,GAC3CR,EAAS,QAAUQ,EAAK,QAAUA,EAAK,QAAU,EACnD"}